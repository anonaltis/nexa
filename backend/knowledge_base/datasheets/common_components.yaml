# Common Electronics Components Knowledge Base
# Source: Manufacturer datasheets (simplified for educational use)

esp32:
  name: "ESP32-WROOM-32"
  manufacturer: "Espressif"
  category: "microcontroller"
  description: "Low-cost, low-power SoC with WiFi and Bluetooth"

  max_ratings:
    supply_voltage: 3.6
    gpio_current: 40  # mA per pin
    total_gpio_current: 1200  # mA total
    flash_voltage: 3.6

  operating_conditions:
    supply_voltage_min: 2.2
    supply_voltage_typical: 3.3
    supply_voltage_max: 3.6
    operating_temp_min: -40
    operating_temp_max: 85

  electrical_characteristics:
    gpio_output_high: 3.3
    gpio_output_low: 0
    gpio_input_high_min: 2.475  # 0.75 × VDD
    gpio_input_low_max: 0.825   # 0.25 × VDD
    gpio_source_current: 40
    gpio_sink_current: 28

  pinout:
    power:
      - pin: 3V3
        description: "3.3V power supply"
      - pin: GND
        description: "Ground"
      - pin: EN
        description: "Enable pin (active high)"
    gpio:
      - pin: GPIO0
        description: "Boot mode select, can be used as GPIO"
        special: "Strapping pin - must be HIGH for normal boot"
      - pin: GPIO2
        description: "General purpose I/O"
        special: "Strapping pin - must be LOW or floating for boot"
      - pin: GPIO4
        description: "General purpose I/O, touch sensor"
      - pin: GPIO5
        description: "General purpose I/O"
        special: "Strapping pin"
    adc:
      - pin: GPIO32-39
        description: "ADC1 channels (12-bit)"
        note: "GPIO34-39 are input only"
    i2c:
      - pin: GPIO21
        description: "Default SDA"
      - pin: GPIO22
        description: "Default SCL"
    spi:
      - pin: GPIO18
        description: "Default VSPI CLK"
      - pin: GPIO19
        description: "Default VSPI MISO"
      - pin: GPIO23
        description: "Default VSPI MOSI"

  application_notes:
    - "Add 10µF capacitor on 3.3V rail for stability"
    - "Add 0.1µF ceramic capacitor close to VDD pins"
    - "GPIO34-39 are input only - no internal pull-up"
    - "Use level shifter for 5V signal interfacing"
    - "GPIO6-11 connected to internal flash - do not use"

  typical_application:
    decoupling: "0.1µF ceramic + 10µF electrolytic on 3.3V"
    reset_circuit: "10kΩ pull-up on EN pin"
    boot_mode: "GPIO0 HIGH for normal boot"

arduino_nano:
  name: "Arduino Nano"
  manufacturer: "Arduino"
  category: "microcontroller"
  mcu: "ATmega328P"
  description: "Compact Arduino board based on ATmega328P"

  max_ratings:
    supply_voltage: 12  # Via VIN
    gpio_current: 40  # mA per pin
    total_gpio_current: 200  # mA total from VCC
    flash_voltage: 5.5

  operating_conditions:
    supply_voltage_min: 7  # Via VIN
    supply_voltage_max: 12  # Via VIN
    usb_voltage: 5
    operating_temp_min: -40
    operating_temp_max: 85

  electrical_characteristics:
    gpio_output_high: 5.0
    gpio_output_low: 0
    gpio_input_high_min: 3.0  # 0.6 × VCC
    gpio_input_low_max: 1.5   # 0.3 × VCC
    gpio_source_current: 40
    gpio_sink_current: 40

  pinout:
    power:
      - pin: VIN
        description: "7-12V input (through regulator)"
      - pin: 5V
        description: "Regulated 5V output"
      - pin: 3V3
        description: "3.3V output (50mA max)"
      - pin: GND
        description: "Ground"
    digital:
      - pin: D0-D13
        description: "Digital I/O pins"
        note: "D0/D1 are TX/RX for Serial"
    analog:
      - pin: A0-A7
        description: "Analog inputs (10-bit ADC)"
        note: "A6/A7 are analog input only"
    pwm:
      - pins: [D3, D5, D6, D9, D10, D11]
        description: "PWM capable pins"
    i2c:
      - pin: A4
        description: "SDA"
      - pin: A5
        description: "SCL"
    spi:
      - pin: D10
        description: "SS"
      - pin: D11
        description: "MOSI"
      - pin: D12
        description: "MISO"
      - pin: D13
        description: "SCK (also onboard LED)"

  application_notes:
    - "D13 has onboard LED - cannot source much current"
    - "Total current from all pins should not exceed 200mA"
    - "3.3V pin can only supply 50mA"
    - "Use external power for motors and high-current loads"

lm7805:
  name: "LM7805"
  manufacturer: "Various"
  category: "voltage_regulator"
  type: "Linear positive regulator"
  description: "5V 1A positive voltage regulator"

  max_ratings:
    input_voltage: 35
    output_current: 1500  # mA with heatsink
    power_dissipation: 2000  # mW (internally limited)
    junction_temp: 150

  operating_conditions:
    input_voltage_min: 7
    input_voltage_max: 25
    dropout_voltage: 2
    output_voltage: 5.0

  electrical_characteristics:
    output_voltage_min: 4.8
    output_voltage_typical: 5.0
    output_voltage_max: 5.2
    line_regulation: 0.01  # %/V
    load_regulation: 0.1   # %
    quiescent_current: 5   # mA

  pinout:
    pins:
      - pin: 1
        name: INPUT
        description: "Unregulated DC input"
      - pin: 2
        name: GND
        description: "Ground (common)"
      - pin: 3
        name: OUTPUT
        description: "Regulated 5V output"

  typical_application:
    input_capacitor: "0.33µF ceramic minimum"
    output_capacitor: "0.1µF ceramic minimum"
    note: "Larger capacitors improve transient response"

  application_notes:
    - "Input must be at least 7V (2V dropout + 5V output)"
    - "Power dissipation P = (Vin - Vout) × Iout"
    - "Use heatsink for currents above 500mA"
    - "Thermal shutdown at 150°C junction temp"
    - "Place capacitors close to IC"

  thermal_calculations:
    formula: "Tj = Ta + (Pd × θja)"
    thermal_resistance_to92: 65  # °C/W (TO-92 package)
    thermal_resistance_to220: 5  # °C/W (TO-220 with heatsink)

lm35:
  name: "LM35"
  manufacturer: "Texas Instruments"
  category: "sensor"
  type: "Temperature sensor"
  description: "Precision centigrade temperature sensor"

  max_ratings:
    supply_voltage: 35
    output_current: 10  # mA
    operating_temp_max: 150

  operating_conditions:
    supply_voltage_min: 4
    supply_voltage_max: 30
    temp_range_min: -55
    temp_range_max: 150

  electrical_characteristics:
    sensitivity: 10  # mV/°C
    accuracy: 0.5    # °C at 25°C
    output_impedance: 0.1  # Ω
    quiescent_current: 60  # µA

  pinout:
    pins:
      - pin: 1
        name: VCC
        description: "Supply voltage (4-30V)"
      - pin: 2
        name: VOUT
        description: "Analog output (10mV/°C)"
      - pin: 3
        name: GND
        description: "Ground"

  typical_application:
    formula: "Temperature (°C) = Vout (mV) / 10"
    example: "250mV output = 25°C"
    adc_connection: "Connect VOUT to ADC input with short wires"

  application_notes:
    - "Output is linear: 10mV per degree Celsius"
    - "0°C = 0mV, 25°C = 250mV, 100°C = 1000mV"
    - "Keep leads short to reduce noise"
    - "Add 0.1µF capacitor if long cable runs"

ne555:
  name: "NE555"
  manufacturer: "Various"
  category: "timer_ic"
  description: "Precision timer IC for monostable and astable operation"

  max_ratings:
    supply_voltage: 18
    output_current: 200  # mA
    power_dissipation: 600  # mW

  operating_conditions:
    supply_voltage_min: 4.5
    supply_voltage_max: 16

  electrical_characteristics:
    timing_accuracy: 1  # %
    temperature_drift: 50  # ppm/°C
    output_voltage_high: "Vcc - 1.7V"
    output_voltage_low: 0.1  # V

  pinout:
    pins:
      - pin: 1
        name: GND
        description: "Ground"
      - pin: 2
        name: TRIGGER
        description: "Triggers output HIGH when < 1/3 Vcc"
      - pin: 3
        name: OUTPUT
        description: "Timer output"
      - pin: 4
        name: RESET
        description: "Active LOW reset (tie to Vcc if unused)"
      - pin: 5
        name: CONTROL
        description: "Control voltage (add 0.01µF to GND if unused)"
      - pin: 6
        name: THRESHOLD
        description: "Resets output when > 2/3 Vcc"
      - pin: 7
        name: DISCHARGE
        description: "Open collector discharge"
      - pin: 8
        name: VCC
        description: "Supply voltage"

  typical_application:
    astable_frequency: "f = 1.44 / ((R1 + 2×R2) × C)"
    monostable_time: "T = 1.1 × R × C"
    duty_cycle: "D = (R1 + R2) / (R1 + 2×R2)"

  application_notes:
    - "Add 0.1µF decoupling capacitor on Vcc"
    - "Add 0.01µF on CONTROL pin for noise immunity"
    - "RESET must be HIGH for normal operation"
    - "Output can source or sink 200mA"

led_general:
  name: "Standard LED"
  category: "indicator"
  description: "Light Emitting Diode - general specifications"

  forward_voltage:
    red: 1.8
    orange: 2.0
    yellow: 2.1
    green: 2.2
    blue: 3.2
    white: 3.2
    infrared: 1.2

  typical_current:
    minimum: 5      # mA (dim)
    typical: 15     # mA (normal brightness)
    maximum: 20     # mA (standard LED)

  max_ratings:
    forward_current: 30  # mA absolute max
    reverse_voltage: 5   # V
    power_dissipation: 100  # mW

  identification:
    anode_positive: "Longer leg"
    cathode_negative: "Shorter leg, flat side of case"

  application_notes:
    - "Always use current limiting resistor"
    - "R = (Vs - Vf) / If"
    - "For 5V and red LED at 15mA: R = (5-1.8)/0.015 = 213Ω → use 220Ω"
    - "Power = If × Vf (for LED) + If² × R (for resistor)"

2n2222:
  name: "2N2222"
  manufacturer: "Various"
  category: "transistor"
  type: "NPN BJT"
  description: "General purpose NPN switching transistor"

  max_ratings:
    collector_current: 800  # mA
    collector_emitter_voltage: 40  # V
    power_dissipation: 625  # mW
    hfe_min: 100

  electrical_characteristics:
    vbe_saturation: 0.7  # V
    vce_saturation: 0.3  # V
    hfe_typical: 200
    transition_frequency: 300  # MHz

  pinout:
    to92:
      - pin: 1
        name: E
        description: "Emitter"
      - pin: 2
        name: B
        description: "Base"
      - pin: 3
        name: C
        description: "Collector"

  typical_application:
    as_switch:
      ib_formula: "Ib = Ic / hfe"
      base_resistor: "Rb = (Vin - 0.7) / Ib"
      note: "For reliable saturation, use hfe/10 as design value"

  application_notes:
    - "Use base resistor to limit current"
    - "Add flyback diode for inductive loads"
    - "Check power dissipation: P = Vce × Ic"
    - "Collector current should be << Ic_max for reliability"
